---
description: React UI Shell utilizing shadcn and Tailwind
complexity: ⚠️ Medium
---

# 3. React UI Shell Implementation

Building the primary user interface using React, TailwindCSS, and shadcn/ui. This UI will eventually be embedded via WebView2 in the C# Desktop app but will be built and tested first as a standalone web application.

## Objectives
- Scaffold the main layout (Sidebar + Chat Area + Context Dashboard).
- Create a beautiful, dynamic chat component supporting generic text and structured action approvals.
- Set up state management and API bridging to the Python FastAPI backend.

---

## Execution Steps

### Step 1: Baseline Layout Configuration
- Clear out the Vite template artifacts (`App.tsx`, `App.css`).
- Build a main Layout component `src/components/layout/MainLayout.tsx` which contains:
  - A left navigation sidebar (History/Sessions).
  - A central chat area.
  - A right collapsible panel for (mock) C# Desktop Context data.

### Step 2: Shadcn Component Ingestion
- Use the `npx shadcn@latest add ...` CLI to bring in required baseline UI components:
  - `button`, `input`, `card`, `scroll-area`, `avatar`, `separator`, `badge`.

### Step 3: Implement Chat Interface
- Build `src/components/chat/ChatWindow.tsx`. This should render user messages and AI responses dynamically.
- Build `src/components/chat/ChatInput.tsx`.
- Create a specific visual treatment (e.g., `Card` inside the chat flow) for **Proposed Actions**. When the backend returns an action (e.g., "Change Pump Pressure"), render an "Approve" button and a "Reject" button below the AI's explanation.

### Step 4: State & API Integration Hook
- Create a custom hook `src/hooks/useAgentChat.ts`.
- Implement a basic `fetch` call to ping `http://localhost:8000/api/chat` (The FastAPI server).
- Manage the local chat history array `[{role: 'user', content: '...'}, {role: 'agent', content: '...'}]`.

---

## Validation / Testing
1. **Compilation:** Run `npm run build` to ensure all React imports and shadcn configurations are sound.
2. **Visual Inspection:** Start `npm run dev`. Navigate to `localhost:5173`. The 3-pane layout, chat input, and mock messages should render with correct Tailwind styling.
3. **Action Render Strategy:** Hardcode a mock `action_request` in your central state array and verify that the "Approve/Reject" card UI renders distinctively from standard text chat.
